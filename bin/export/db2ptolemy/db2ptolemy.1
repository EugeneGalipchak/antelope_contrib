.TH DB2XML 1 "$Date$"
.SH NAME
db2xml \- pretty-print a database view as XML
.SH SYNOPSIS
.nf
\fBdb2xml \fP[-v] [-p] [-d \fIdocument_root\fP] [-r \fIrowname\fP]
                \fIdbname.table\fP [\fIname\fP \fIexpr\fP [\fIname\fP \fIexpr\fP
                ...]]
.fi
.SH DESCRIPTION

\fBdb2xml\fP prints a database table or view as a simplistic XML structure.
With no command-line arguments other than the table pathname, all
table fields are printed, each as its own element. the -p option
limits the fields shown to the primary keys. The output XML
structure is sent to standard-out.

The root element of the document is named after the table or view,
for example <origin> or <View53>, unless specified otherwise by
the -d argument.

Individual rows of the input view are entered as elements named
<row>, unless otherwise specified with the -r argument.

Optionally, all of the elements in each row may be individually
specified on the command line. Each element is defined by a
pair of command line arguments, first an element \fIname\fP and then
an expression to be evaluated by the Antelope expression calculator
(see the man page for dbexpressions(5)). Care should be taken
to use quotes where necessary to protect expressions from the
shell.

.SH OPTIONS

-v Verbose

-p Only print out the primary keys as elements

-d set the \fIname\fP of the document root element.

-r set the \fIname\fP of the elements representing individual rows
of the input view.
.SH EXAMPLE
.ft CW
.in 2c
.nf

.ne 21
yukon% dbsubset /opt/antelope/data/db/demo/demo.origin 'mb > 6.4' |
       db2xml -d quakes -r hypocenter - lat lat lon lon
        timestring 'strtime(time)'

<quakes>
   <hypocenter>
      <lat>-7.2970</lat>
      <lon>129.1370</lon>
      <timestring>5/04/1992   8:45:10.089</timestring>
   </hypocenter>
   <hypocenter>
      <lat>41.6040</lat>
      <lon>88.8130</lon>
      <timestring>5/21/1992   4:59:57.500</timestring>
   </hypocenter>
   <hypocenter>
      <lat>41.4170</lat>
      <lon>88.3439</lon>
      <timestring>5/21/1992   5:00:00.399</timestring>
   </hypocenter>
</quakes>

yukon%

.fi
.in
.ft R
.SH RETURN VALUES
\fBdb2xml\fP exits with 0 upon success, nonzero upon error.
.SH "SEE ALSO"
.nf
db2xml(3), dbexpressions(5), dbselect(1)
.fi
.SH "BUGS AND CAVEATS"
Attributes are not supported.

The Verbose option is not overly verbose.
.SH AUTHOR
.nf
Kent Lindquist
Lindquist Consulting
.fi
.\" $Id$
