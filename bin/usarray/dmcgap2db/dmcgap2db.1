.TH DMCGAP2DB 1 "$Date$"
.SH NAME
dmcgap2db \- convert DMC gap file into gap db table
.SH SYNOPSIS
.nf
\fBdmcgap2db \fP[-v] [-V] [-p [-D | -Y]]
                [-I \fIidserver\fP] 
                [-P \fIdbpath\fP] 
                [-d \fIdirectory_base\fP] 
                [-t \fIstart_time\fP]
                [-e \fIend_time\fP]
                \fIsync_file\fP
.fi
.SH DESCRIPTION
\fBdmcgap2db\fP take gap file generated by the IRIS DMC and convert this data
into a gap db table.  It's default mode is to write the data into the local directory
or else with the -p option can write data into the monthly_dbs directory in a 
similar form as \fBtime_slice_db(1)\fP. 

With the -p option data will be split from \fIdbin\fP into monthly ( or yearly or daily) databases.
\fBdmcgap2db\fP will reorganize the seismic database tables into the appropriate database 
directory structure - 
.IP \fIdirectory_base/YYYY_MM/dbbase_name_YYYY_MM\fP.  
.IP \fIdirectory_base/YYYY/dbbase_name_YYYY\fP.  
.IP \fIdirectory_base/YYYY_DDD/dbbase_name_YYYY_DDD\fP.  

.in
The decision for which db to include data is decided by the gap.time after all gaps
being split along day boundaries.

This program was written to address specific issues at the ANF for the USArray TA.  

.SH OPTIONS
.IP -v
verbose
.IP -V
Extremely verbose.  Used for debugging purposes only.
.IP -p
split into periods, useful when input files have random start and endtimes
.IP -Y
split database into years.  Files stored as \fIdaily_dbs/YYYY/dbbase_name_YYYY\fP.  
Only valid with -p option.
.IP -D
split database into days.  Files stored as \fIyearly_dbs/YYYY_DDD/dbbase_name_YYYY_DDD\fP.
Only valid with -p option.
.IP "-I idserver"
Name of idserver to be written into descriptor file for output database to use.
The default parameter idserver is none.
.IP "-P dbpath"
dbpath to be written into descriptor file for output database to use.
The default parameter dbpath is none.
.IP "-d directory_base"
directory base name for building the monthly databases
The default is ./monthly_dbs
Only valid with -p option.
.IP "-t start_time"
Start time for processing data.
The default start time is \fB1 January 1970\fP.
.IP "-e end_time"
End time for processing data.
The default end time is \fBnow()\fP.

.SH ENVIRONMENT
Need environment variable $PFPATH to be set.
.SH PARAMETER FILE
None.
.ft R
.in
.SH RETURN VALUES
0 if successful, 1 if not.
.SH "SEE ALSO"
.nf
time_slice_db(1)
.fi
.SH "BUGS AND CAVEATS"
none.
.LP
.SH AUTHOR
Frank Vernon
.br
